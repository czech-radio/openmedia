
## Command: root
### 1. root: help
Command input:
	go run main.go -h
	openmedia -h
#### Command output:
-h, -help
	display this help and exit

-U, -Usage=false
	Print usage manual

-H, -generalHelp=false
	Get help on all subcommands

-V, -version=false
	Print version of program.

-v, -verbose=0
	Level of verbosity. Lower the number the more verbose is the output.
	[6 4 2 0 -2 -4]

-logt, -logType=json
	Type of logs formating.
	[json plain]

-dr, -dryRun=false
	Dry run, useful for tests. Avoid any pernament changes to filesystem or any expensive tasks

-dc, -debugConfig=false
	Debug/print flag values

-logts, -logTest=false
	Print test logs



### 2. root: print version
Command input:
	go run main.go -V
	openmedia -V
#### Command output:
{ProgramName: Version:1.0.0 GitTag: GitCommit: BuildTime:}

### 3. root: print config
Command input:
	go run main.go -dc
	openmedia -dc
#### Command output:
Root config: &{Usage:false GeneralHelp:false Version:false Verbose:0 DryRun:false LogType:json LogTest:false DebugConfig:true}

### 4. root: print version and config
Command input:
	go run main.go -V -dc
	openmedia -V -dc
#### Command output:
{ProgramName: Version:1.0.0 GitTag: GitCommit: BuildTime:}
Root config: &{Usage:false GeneralHelp:false Version:true Verbose:0 DryRun:false LogType:json LogTest:false DebugConfig:true}

### 5. root: test log [err]
Command input:
	go run main.go -logt=plain -logts -v=6
	openmedia -logt=plain -logts -v=6
#### Command output:
time=2024-06-23T17:17:25.942+02:00 level=ERROR source=sloger.go:53 msg="test error"

### 6. root: test log [err,warn]
Command input:
	go run main.go -logt=plain -logts -v=4
	openmedia -logt=plain -logts -v=4
#### Command output:
time=2024-06-23T17:17:26.417+02:00 level=WARN source=sloger.go:52 msg="test warn"
time=2024-06-23T17:17:26.417+02:00 level=ERROR source=sloger.go:53 msg="test error"

### 7. root: test log [err,warn,info]
Command input:
	go run main.go -logt=plain -logts -v=0
	openmedia -logt=plain -logts -v=0
#### Command output:
time=2024-06-23T17:17:26.801+02:00 level=INFO source=sloger.go:51 msg="test info"
time=2024-06-23T17:17:26.801+02:00 level=WARN source=sloger.go:52 msg="test warn"
time=2024-06-23T17:17:26.801+02:00 level=ERROR source=sloger.go:53 msg="test error"

### 8. root: terst log [err,warn,info,debug]
Command input:
	go run main.go -logt=plain -logts -v=-4
	openmedia -logt=plain -logts -v=-4
#### Command output:
time=2024-06-23T17:17:27.205+02:00 level=DEBUG source=config_mapany.go:309 msg="subcommand added" subname=archive
time=2024-06-23T17:17:27.205+02:00 level=DEBUG source=config_mapany.go:309 msg="subcommand added" subname=extractArchive
time=2024-06-23T17:17:27.205+02:00 level=DEBUG source=sloger.go:50 msg="test debug"
time=2024-06-23T17:17:27.205+02:00 level=INFO source=sloger.go:51 msg="test info"
time=2024-06-23T17:17:27.205+02:00 level=WARN source=sloger.go:52 msg="test warn"
time=2024-06-23T17:17:27.205+02:00 level=ERROR source=sloger.go:53 msg="test error"

### 9. root: test log json
Command input:
	go run main.go -logt=json -logts -v=-4
	openmedia -logt=json -logts -v=-4
#### Command output:
{"time":"2024-06-23T17:17:27.5937513+02:00","level":"DEBUG","source":{"function":"github.com/triopium/go_utils/pkg/configure.(*CommanderConfig).AddSub","file":"config_mapany.go","line":309},"msg":"subcommand added","subname":"archive"}
{"time":"2024-06-23T17:17:27.593824502+02:00","level":"DEBUG","source":{"function":"github.com/triopium/go_utils/pkg/configure.(*CommanderConfig).AddSub","file":"config_mapany.go","line":309},"msg":"subcommand added","subname":"extractArchive"}
{"time":"2024-06-23T17:17:27.593838004+02:00","level":"DEBUG","source":{"function":"github.com/triopium/go_utils/pkg/logging.LoggingOutputTest","file":"sloger.go","line":50},"msg":"test debug"}
{"time":"2024-06-23T17:17:27.593844132+02:00","level":"INFO","source":{"function":"github.com/triopium/go_utils/pkg/logging.LoggingOutputTest","file":"sloger.go","line":51},"msg":"test info"}
{"time":"2024-06-23T17:17:27.593849204+02:00","level":"WARN","source":{"function":"github.com/triopium/go_utils/pkg/logging.LoggingOutputTest","file":"sloger.go","line":52},"msg":"test warn"}
{"time":"2024-06-23T17:17:27.593854572+02:00","level":"ERROR","source":{"function":"github.com/triopium/go_utils/pkg/logging.LoggingOutputTest","file":"sloger.go","line":53},"msg":"test error"}

### Run summary
--- PASS: TestRunCommand_Root (3.88s)
    --- PASS: TestRunCommand_Root/1 (0.42s)
    --- PASS: TestRunCommand_Root/2 (0.41s)
    --- PASS: TestRunCommand_Root/3 (0.45s)
    --- PASS: TestRunCommand_Root/4 (0.44s)
    --- PASS: TestRunCommand_Root/5 (0.50s)
    --- PASS: TestRunCommand_Root/6 (0.47s)
    --- PASS: TestRunCommand_Root/7 (0.38s)
    --- PASS: TestRunCommand_Root/8 (0.40s)
    --- PASS: TestRunCommand_Root/9 (0.39s)
PASS
ok  	github/czech-radio/openmedia/cmd	3.891s

## Command: archive
### 1. archive: help
Command input:
	go run main.go archive -h -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/1
	openmedia archive -h -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/1
#### Command output:
-h, -help
	display this help and exit

-sdir, -SourceDirectory=.
	Source directory of rundown files.

-odir, -OutputDirectory=.
	Destination directory for archived rundwon files

-ct, -CompressionType=zip
	Type of file compression
	[zip]

-ifnc, -InvalidFilenameContinue=true
	Continue even though unknown filename encountered

-ifc, -InvalidFileContinue=true
	Continue even though unprocessable file encountered

-ifr, -InvalidFileRename=false
	Rename invalid files in source folder.

-pfr, -ProcessedFileRename=false
	Rename original rundown files after they are processed/archived: add "proccesed" prefix to source filename

-pfd, -ProcessedFileDelete=false
	Delete original rundown files after they are processed/archived.

-pfia, -PreserveFoldersInArchive=false
	Preserve source folder structure in archive

-R, -RecurseSourceDirectory=false
	Recurse source directory



### 2. archive: debug config
Command input:
	go run main.go -v=0 -dc archive -ifc -R -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/2
	openmedia -v=0 -dc archive -ifc -R -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/2
#### Command output:
Root config: &{Usage:false GeneralHelp:false Version:false Verbose:0 DryRun:false LogType:json LogTest:false DebugConfig:true}
Archive config: {SourceDirectory:/tmp/openmedia3619779096/cmd/SRC/cmd/archive OutputDirectory:/tmp/openmedia3619779096/cmd/DST/cmd/archive/2 CompressionType:zip InvalidFilenameContinue:true InvalidFileContinue:false InvalidFileRename:false ProcessedFileRename:false ProcessedFileDelete:false PreserveFoldersInArchive:false RecurseSourceDirectory:true}

### 3. archive: dry run
Command input:
	go run main.go -dr -v=0 archive -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/3
	openmedia -dr -v=0 archive -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/3
#### Command output:
{"time":"2024-06-23T17:17:29.193557036+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.GlobalConfig.RunCommandArchive","file":"archive.go","line":63},"msg":"effective config","config":{"SourceDirectory":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","OutputDirectory":"/tmp/openmedia3619779096/cmd/DST/cmd/archive/3","CompressionType":"zip","InvalidFilenameContinue":true,"InvalidFileContinue":true,"InvalidFileRename":false,"ProcessedFileRename":false,"ProcessedFileDelete":false,"PreserveFoldersInArchive":false,"RecurseSourceDirectory":false}}
{"time":"2024-06-23T17:17:29.193701567+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.GlobalConfig.RunCommandArchive","file":"archive.go","line":66},"msg":"dry run activated","output_path":"/tmp/openmedia_archive3192959173"}
{"time":"2024-06-23T17:17:29.193801106+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"filenames_validation","All/Processed/Success/Failure":"6/6/4/2"}
{"time":"2024-06-23T17:17:29.197037103+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"4/1/1/0"}
{"time":"2024-06-23T17:17:29.1976507+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W49_ORIGINAL.zip","ArhiveRatio":"0.000","MinifyRatio":"1.000","original":47182,"compressed":0,"minified":47182,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_AAA-domаcб_obecnа_osoba_2_10359730_20231208144502.xml","filePathDestination":"Contacts/2023_W49_ORIGINAL.zip/CT_ELV-iokíkč_mniykš_lqaht_Friday_W49_2023_12_08T144502.xml"}
{"time":"2024-06-23T17:17:29.201426768+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"4/2/2/0"}
{"time":"2024-06-23T17:17:29.201612073+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W50_ORIGINAL.zip","ArhiveRatio":"0.000","MinifyRatio":"1.000","original":47170,"compressed":0,"minified":47170,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_Hrab╪tovа__Jana_2_985786_20231213023749.xml","filePathDestination":"Contacts/2023_W50_ORIGINAL.zip/CT_Cvmqďsbzř,_Plhh_Wednesday_W50_2023_12_13T023749.xml"}
{"time":"2024-06-23T17:17:29.203455095+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W49_MINIFIED.zip","ArhiveRatio":"0.000","MinifyRatio":"0.119","original":47182,"compressed":0,"minified":5596,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_AAA-domаcб_obecnа_osoba_2_10359730_20231208144502.xml","filePathDestination":"Contacts/2023_W49_MINIFIED.zip/CT_ELV-iokíkč_mniykš_lqaht_Friday_W49_2023_12_08T144502.xml"}
{"time":"2024-06-23T17:17:29.207744137+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W50_MINIFIED.zip","ArhiveRatio":"0.000","MinifyRatio":"0.111","original":47170,"compressed":0,"minified":5219,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_Hrab╪tovа__Jana_2_985786_20231213023749.xml","filePathDestination":"Contacts/2023_W50_MINIFIED.zip/CT_Cvmqďsbzř,_Plhh_Wednesday_W50_2023_12_13T023749.xml"}
{"time":"2024-06-23T17:17:29.209770473+02:00","level":"ERROR","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).Folder","file":"archive.go","line":315},"msg":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_00-12_Pohoda_-_Fri_06_01_2023_2_14293760_20230107001431_bad.xml xml: encoding \"utf-16\" declared but Decoder.CharsetReader is nil"}
{"time":"2024-06-23T17:17:29.742070717+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"4/4/3/1"}
{"time":"2024-06-23T17:17:29.861770909+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Rundowns/2020_W10_ORIGINAL.zip","ArhiveRatio":"0.073","MinifyRatio":"1.000","original":13551976,"compressed":987136,"minified":13551976,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_12-19_ČRo_Olomouc_-_Wed__04_03_2020_2_1608925_20200304234622.xml","filePathDestination":"Rundowns/2020_W10_ORIGINAL.zip/RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:30.383041875+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Rundowns/2020_W10_MINIFIED.zip","ArhiveRatio":"0.028","MinifyRatio":"0.327","original":13551976,"compressed":385024,"minified":4430218,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_12-19_ČRo_Olomouc_-_Wed__04_03_2020_2_1608925_20200304234622.xml","filePathDestination":"Rundowns/2020_W10_MINIFIED.zip/RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}

RESULTS:

result: filenames_validation
errors: {"file does not have xml extension":["/tmp/openmedia3619779096/cmd/SRC/cmd/archive/hello_invalid.txt","/tmp/openmedia3619779096/cmd/SRC/cmd/archive/hello_invalid2.txt"]}
{"time":"2024-06-23T17:17:30.383140288+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"filenames_validation","All/Processed/Success/Failure":"6/6/4/2"}

result: archive_create
{"time":"2024-06-23T17:17:30.383158007+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"4/4/3/1"}
{"time":"2024-06-23T17:17:30.383171649+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"GLOBAL_ORIGINAL","ArhiveRatio":"0.072","MinifyRatio":"1.000","original":13646328,"compressed":987136,"minified":13646328,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","filePathDestination":"/tmp/openmedia_archive3192959173"}
{"time":"2024-06-23T17:17:30.383187844+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"GLOBAL_MINIFY","ArhiveRatio":"0.028","MinifyRatio":"0.325","original":13646328,"compressed":385024,"minified":4441033,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","filePathDestination":"/tmp/openmedia_archive3192959173"}
errors: {"xml: encoding \"utf-16\" declared but Decoder.CharsetReader is nil":["/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_00-12_Pohoda_-_Fri_06_01_2023_2_14293760_20230107001431_bad.xml"]}

### 4. archive: exit on src file error or filename error
Command input:
	go run main.go -v=0 archive -ifc -ifnc -R -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/4
	openmedia -v=0 archive -ifc -ifnc -R -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/4
#### Command output:
{"time":"2024-06-23T17:17:30.86045962+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.GlobalConfig.RunCommandArchive","file":"archive.go","line":63},"msg":"effective config","config":{"SourceDirectory":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","OutputDirectory":"/tmp/openmedia3619779096/cmd/DST/cmd/archive/4","CompressionType":"zip","InvalidFilenameContinue":false,"InvalidFileContinue":false,"InvalidFileRename":false,"ProcessedFileRename":false,"ProcessedFileDelete":false,"PreserveFoldersInArchive":false,"RecurseSourceDirectory":true}}
{"time":"2024-06-23T17:17:30.860685218+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"filenames_validation","All/Processed/Success/Failure":"10/10/6/4"}
{"time":"2024-06-23T17:17:30.86071663+02:00","level":"ERROR","source":{"function":"github.com/triopium/go_utils/pkg/helper.ErrorsCodeMap.ExitWithCode","file":"errors.go","line":112},"msg":"filenames_validation: {\"file does not have xml extension\":[\"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/hello_invalid.txt\",\"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/hello_invalid2.txt\"],\"filename is not valid OpenMedia file\":[\"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/ohter_files/hello_invalid.xml\",\"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/ohter_files/hello_invalid2.xml\"]}"}
exit status 12

### 5. archive: run exit on src file error
Command input:
	go run main.go -v=0 archive -ifc -R -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/5
	openmedia -v=0 archive -ifc -R -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/5
#### Command output:
{"time":"2024-06-23T17:17:31.33918805+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.GlobalConfig.RunCommandArchive","file":"archive.go","line":63},"msg":"effective config","config":{"SourceDirectory":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","OutputDirectory":"/tmp/openmedia3619779096/cmd/DST/cmd/archive/5","CompressionType":"zip","InvalidFilenameContinue":true,"InvalidFileContinue":false,"InvalidFileRename":false,"ProcessedFileRename":false,"ProcessedFileDelete":false,"PreserveFoldersInArchive":false,"RecurseSourceDirectory":true}}
{"time":"2024-06-23T17:17:31.33940477+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"filenames_validation","All/Processed/Success/Failure":"10/10/6/4"}
{"time":"2024-06-23T17:17:31.342492926+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W49_ORIGINAL.zip","ArhiveRatio":"0.000","MinifyRatio":"1.000","original":47182,"compressed":0,"minified":47182,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_AAA-domаcб_obecnа_osoba_2_10359730_20231208144502.xml","filePathDestination":"Contacts/2023_W49_ORIGINAL.zip/CT_ELV-iokíkč_mniykš_lqaht_Friday_W49_2023_12_08T144502.xml"}
{"time":"2024-06-23T17:17:31.342630793+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"6/1/1/0"}
{"time":"2024-06-23T17:17:31.346592649+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W50_ORIGINAL.zip","ArhiveRatio":"0.000","MinifyRatio":"1.000","original":47170,"compressed":0,"minified":47170,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_Hrab╪tovа__Jana_2_985786_20231213023749.xml","filePathDestination":"Contacts/2023_W50_ORIGINAL.zip/CT_Cvmqďsbzř,_Plhh_Wednesday_W50_2023_12_13T023749.xml"}
{"time":"2024-06-23T17:17:31.346998154+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"6/2/2/0"}
{"time":"2024-06-23T17:17:31.34921701+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W49_MINIFIED.zip","ArhiveRatio":"0.000","MinifyRatio":"0.119","original":47182,"compressed":0,"minified":5596,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_AAA-domаcб_obecnа_osoba_2_10359730_20231208144502.xml","filePathDestination":"Contacts/2023_W49_MINIFIED.zip/CT_ELV-iokíkč_mniykš_lqaht_Friday_W49_2023_12_08T144502.xml"}
{"time":"2024-06-23T17:17:31.353670063+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W50_MINIFIED.zip","ArhiveRatio":"0.000","MinifyRatio":"0.111","original":47170,"compressed":0,"minified":5219,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_Hrab╪tovа__Jana_2_985786_20231213023749.xml","filePathDestination":"Contacts/2023_W50_MINIFIED.zip/CT_Cvmqďsbzř,_Plhh_Wednesday_W50_2023_12_13T023749.xml"}
{"time":"2024-06-23T17:17:31.354650779+02:00","level":"ERROR","source":{"function":"github.com/triopium/go_utils/pkg/helper.ErrorsCodeMap.ExitWithCode","file":"errors.go","line":112},"msg":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_00-12_Pohoda_-_Fri_06_01_2023_2_14293760_20230107001431_bad.xml xml: encoding \"utf-16\" declared but Decoder.CharsetReader is nil"}
exit status 12

### 6. archive: do not exit on any file error
Command input:
	go run main.go -v=0 archive -R -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/6
	openmedia -v=0 archive -R -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/6
#### Command output:
{"time":"2024-06-23T17:17:31.787148761+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.GlobalConfig.RunCommandArchive","file":"archive.go","line":63},"msg":"effective config","config":{"SourceDirectory":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","OutputDirectory":"/tmp/openmedia3619779096/cmd/DST/cmd/archive/6","CompressionType":"zip","InvalidFilenameContinue":true,"InvalidFileContinue":true,"InvalidFileRename":false,"ProcessedFileRename":false,"ProcessedFileDelete":false,"PreserveFoldersInArchive":false,"RecurseSourceDirectory":true}}
{"time":"2024-06-23T17:17:31.787375528+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"filenames_validation","All/Processed/Success/Failure":"10/10/6/4"}
{"time":"2024-06-23T17:17:31.79032786+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W49_ORIGINAL.zip","ArhiveRatio":"0.000","MinifyRatio":"1.000","original":47182,"compressed":0,"minified":47182,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_AAA-domаcб_obecnа_osoba_2_10359730_20231208144502.xml","filePathDestination":"Contacts/2023_W49_ORIGINAL.zip/CT_ELV-iokíkč_mniykš_lqaht_Friday_W49_2023_12_08T144502.xml"}
{"time":"2024-06-23T17:17:31.790521171+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"6/1/1/0"}
{"time":"2024-06-23T17:17:31.795183585+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W49_MINIFIED.zip","ArhiveRatio":"0.000","MinifyRatio":"0.119","original":47182,"compressed":0,"minified":5596,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_AAA-domаcб_obecnа_osoba_2_10359730_20231208144502.xml","filePathDestination":"Contacts/2023_W49_MINIFIED.zip/CT_ELV-iokíkč_mniykš_lqaht_Friday_W49_2023_12_08T144502.xml"}
{"time":"2024-06-23T17:17:31.795351822+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"6/2/2/0"}
{"time":"2024-06-23T17:17:31.795339157+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W50_ORIGINAL.zip","ArhiveRatio":"0.000","MinifyRatio":"1.000","original":47170,"compressed":0,"minified":47170,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_Hrab╪tovа__Jana_2_985786_20231213023749.xml","filePathDestination":"Contacts/2023_W50_ORIGINAL.zip/CT_Cvmqďsbzř,_Plhh_Wednesday_W50_2023_12_13T023749.xml"}
{"time":"2024-06-23T17:17:31.802207471+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W50_MINIFIED.zip","ArhiveRatio":"0.000","MinifyRatio":"0.111","original":47170,"compressed":0,"minified":5219,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_Hrab╪tovа__Jana_2_985786_20231213023749.xml","filePathDestination":"Contacts/2023_W50_MINIFIED.zip/CT_Cvmqďsbzř,_Plhh_Wednesday_W50_2023_12_13T023749.xml"}
{"time":"2024-06-23T17:17:31.803836313+02:00","level":"ERROR","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).Folder","file":"archive.go","line":315},"msg":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_00-12_Pohoda_-_Fri_06_01_2023_2_14293760_20230107001431_bad.xml xml: encoding \"utf-16\" declared but Decoder.CharsetReader is nil"}
{"time":"2024-06-23T17:17:32.323792074+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"6/4/3/1"}
{"time":"2024-06-23T17:17:32.326913868+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"6/5/4/1"}
{"time":"2024-06-23T17:17:32.327986193+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W50_ORIGINAL.zip","ArhiveRatio":"0.087","MinifyRatio":"1.000","original":47218,"compressed":4096,"minified":47218,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/ohter_files/CT_Krpаlek__Lukач_2_977869_20231212143738.xml","filePathDestination":"Contacts/2023_W50_ORIGINAL.zip/CT_Sakísuw,_Frmšú_Tuesday_W50_2023_12_12T143738.xml"}
{"time":"2024-06-23T17:17:32.332594662+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W50_MINIFIED.zip","ArhiveRatio":"0.000","MinifyRatio":"0.127","original":47218,"compressed":0,"minified":6007,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/ohter_files/CT_Krpаlek__Lukач_2_977869_20231212143738.xml","filePathDestination":"Contacts/2023_W50_MINIFIED.zip/CT_Sakísuw,_Frmšú_Tuesday_W50_2023_12_12T143738.xml"}
{"time":"2024-06-23T17:17:32.485921591+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Rundowns/2020_W10_ORIGINAL.zip","ArhiveRatio":"0.073","MinifyRatio":"1.000","original":13551976,"compressed":987136,"minified":13551976,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_12-19_ČRo_Olomouc_-_Wed__04_03_2020_2_1608925_20200304234622.xml","filePathDestination":"Rundowns/2020_W10_ORIGINAL.zip/RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:33.172442739+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Rundowns/2020_W10_ORIGINAL.zip","ArhiveRatio":"0.077","MinifyRatio":"1.000","original":11960034,"compressed":921600,"minified":11960034,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/ohter_files/RD_05-09_ČRo_Sever_-_Wed__04_03_2020_2_1607196_20200304234759.xml","filePathDestination":"Rundowns/2020_W10_ORIGINAL.zip/RD_05-09_ŠKs_Wfbvy_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:33.350756428+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Rundowns/2020_W10_MINIFIED.zip","ArhiveRatio":"0.028","MinifyRatio":"0.327","original":13551976,"compressed":385024,"minified":4430218,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_12-19_ČRo_Olomouc_-_Wed__04_03_2020_2_1608925_20200304234622.xml","filePathDestination":"Rundowns/2020_W10_MINIFIED.zip/RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:33.350927888+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"6/6/5/1"}
{"time":"2024-06-23T17:17:33.737049511+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Rundowns/2020_W10_MINIFIED.zip","ArhiveRatio":"0.033","MinifyRatio":"0.323","original":11960034,"compressed":393216,"minified":3865086,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/ohter_files/RD_05-09_ČRo_Sever_-_Wed__04_03_2020_2_1607196_20200304234759.xml","filePathDestination":"Rundowns/2020_W10_MINIFIED.zip/RD_05-09_ŠKs_Wfbvy_Wednesday_W10_2020_03_04.xml"}

RESULTS:

result: filenames_validation
errors: {"file does not have xml extension":["/tmp/openmedia3619779096/cmd/SRC/cmd/archive/hello_invalid.txt","/tmp/openmedia3619779096/cmd/SRC/cmd/archive/hello_invalid2.txt"],"filename is not valid OpenMedia file":["/tmp/openmedia3619779096/cmd/SRC/cmd/archive/ohter_files/hello_invalid.xml","/tmp/openmedia3619779096/cmd/SRC/cmd/archive/ohter_files/hello_invalid2.xml"]}
{"time":"2024-06-23T17:17:33.73713755+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"filenames_validation","All/Processed/Success/Failure":"10/10/6/4"}

result: archive_create
{"time":"2024-06-23T17:17:33.737157736+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"6/6/5/1"}
{"time":"2024-06-23T17:17:33.737174081+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"GLOBAL_ORIGINAL","ArhiveRatio":"0.075","MinifyRatio":"1.000","original":25653580,"compressed":1912832,"minified":25653580,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","filePathDestination":"/tmp/openmedia3619779096/cmd/DST/cmd/archive/6"}
{"time":"2024-06-23T17:17:33.737194126+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"GLOBAL_MINIFY","ArhiveRatio":"0.030","MinifyRatio":"0.324","original":25653580,"compressed":778240,"minified":8312126,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","filePathDestination":"/tmp/openmedia3619779096/cmd/DST/cmd/archive/6"}
errors: {"xml: encoding \"utf-16\" declared but Decoder.CharsetReader is nil":["/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_00-12_Pohoda_-_Fri_06_01_2023_2_14293760_20230107001431_bad.xml"]}

### 7. archive: do not recurse the source folder
Command input:
	go run main.go -v=0 archive -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/7
	openmedia -v=0 archive -sdir=/tmp/openmedia3619779096/cmd/SRC/cmd/archive -odir=/tmp/openmedia3619779096/cmd/DST/cmd/archive/7
#### Command output:
{"time":"2024-06-23T17:17:34.148482455+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.GlobalConfig.RunCommandArchive","file":"archive.go","line":63},"msg":"effective config","config":{"SourceDirectory":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","OutputDirectory":"/tmp/openmedia3619779096/cmd/DST/cmd/archive/7","CompressionType":"zip","InvalidFilenameContinue":true,"InvalidFileContinue":true,"InvalidFileRename":false,"ProcessedFileRename":false,"ProcessedFileDelete":false,"PreserveFoldersInArchive":false,"RecurseSourceDirectory":false}}
{"time":"2024-06-23T17:17:34.148689652+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"filenames_validation","All/Processed/Success/Failure":"6/6/4/2"}
{"time":"2024-06-23T17:17:34.151689696+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"4/1/1/0"}
{"time":"2024-06-23T17:17:34.15221543+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W49_ORIGINAL.zip","ArhiveRatio":"0.000","MinifyRatio":"1.000","original":47182,"compressed":0,"minified":47182,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_AAA-domаcб_obecnа_osoba_2_10359730_20231208144502.xml","filePathDestination":"Contacts/2023_W49_ORIGINAL.zip/CT_ELV-iokíkč_mniykš_lqaht_Friday_W49_2023_12_08T144502.xml"}
{"time":"2024-06-23T17:17:34.15574585+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W50_ORIGINAL.zip","ArhiveRatio":"0.000","MinifyRatio":"1.000","original":47170,"compressed":0,"minified":47170,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_Hrab╪tovа__Jana_2_985786_20231213023749.xml","filePathDestination":"Contacts/2023_W50_ORIGINAL.zip/CT_Cvmqďsbzř,_Plhh_Wednesday_W50_2023_12_13T023749.xml"}
{"time":"2024-06-23T17:17:34.156151805+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"4/2/2/0"}
{"time":"2024-06-23T17:17:34.157155349+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W49_MINIFIED.zip","ArhiveRatio":"0.000","MinifyRatio":"0.119","original":47182,"compressed":0,"minified":5596,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_AAA-domаcб_obecnа_osoba_2_10359730_20231208144502.xml","filePathDestination":"Contacts/2023_W49_MINIFIED.zip/CT_ELV-iokíkč_mniykš_lqaht_Friday_W49_2023_12_08T144502.xml"}
{"time":"2024-06-23T17:17:34.162949389+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Contacts/2023_W50_MINIFIED.zip","ArhiveRatio":"0.000","MinifyRatio":"0.111","original":47170,"compressed":0,"minified":5219,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/CT_Hrab╪tovа__Jana_2_985786_20231213023749.xml","filePathDestination":"Contacts/2023_W50_MINIFIED.zip/CT_Cvmqďsbzř,_Plhh_Wednesday_W50_2023_12_13T023749.xml"}
{"time":"2024-06-23T17:17:34.163509659+02:00","level":"ERROR","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).Folder","file":"archive.go","line":315},"msg":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_00-12_Pohoda_-_Fri_06_01_2023_2_14293760_20230107001431_bad.xml xml: encoding \"utf-16\" declared but Decoder.CharsetReader is nil"}
{"time":"2024-06-23T17:17:34.689306685+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"4/4/3/1"}
{"time":"2024-06-23T17:17:34.806810666+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Rundowns/2020_W10_ORIGINAL.zip","ArhiveRatio":"0.073","MinifyRatio":"1.000","original":13551976,"compressed":987136,"minified":13551976,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_12-19_ČRo_Olomouc_-_Wed__04_03_2020_2_1608925_20200304234622.xml","filePathDestination":"Rundowns/2020_W10_ORIGINAL.zip/RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:35.360507088+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"Rundowns/2020_W10_MINIFIED.zip","ArhiveRatio":"0.028","MinifyRatio":"0.327","original":13551976,"compressed":385024,"minified":4430218,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_12-19_ČRo_Olomouc_-_Wed__04_03_2020_2_1608925_20200304234622.xml","filePathDestination":"Rundowns/2020_W10_MINIFIED.zip/RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}

RESULTS:

result: filenames_validation
errors: {"file does not have xml extension":["/tmp/openmedia3619779096/cmd/SRC/cmd/archive/hello_invalid.txt","/tmp/openmedia3619779096/cmd/SRC/cmd/archive/hello_invalid2.txt"]}
{"time":"2024-06-23T17:17:35.360578423+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"filenames_validation","All/Processed/Success/Failure":"6/6/4/2"}

result: archive_create
{"time":"2024-06-23T17:17:35.360592016+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.ProcessStats.LogProcessStats","file":"xml.go","line":158},"msg":"process stat","name":"archive_create","All/Processed/Success/Failure":"4/4/3/1"}
{"time":"2024-06-23T17:17:35.360602274+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"GLOBAL_ORIGINAL","ArhiveRatio":"0.072","MinifyRatio":"1.000","original":13646328,"compressed":987136,"minified":13646328,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","filePathDestination":"/tmp/openmedia3619779096/cmd/DST/cmd/archive/7"}
{"time":"2024-06-23T17:17:35.36061159+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/archive.(*Archive).WorkerLogInfo","file":"archive.go","line":473},"msg":"GLOBAL_MINIFY","ArhiveRatio":"0.028","MinifyRatio":"0.325","original":13646328,"compressed":385024,"minified":4441033,"filePathSource":"/tmp/openmedia3619779096/cmd/SRC/cmd/archive","filePathDestination":"/tmp/openmedia3619779096/cmd/DST/cmd/archive/7"}
errors: {"xml: encoding \"utf-16\" declared but Decoder.CharsetReader is nil":["/tmp/openmedia3619779096/cmd/SRC/cmd/archive/RD_00-12_Pohoda_-_Fri_06_01_2023_2_14293760_20230107001431_bad.xml"]}

### Run summary
--- PASS: TestRunCommand_Archive (7.37s)
    --- PASS: TestRunCommand_Archive/1 (0.38s)
    --- PASS: TestRunCommand_Archive/2 (0.38s)
    --- PASS: TestRunCommand_Archive/3 (1.62s)
    --- PASS: TestRunCommand_Archive/4 (0.47s)
    --- PASS: TestRunCommand_Archive/5 (0.49s)
    --- PASS: TestRunCommand_Archive/6 (2.39s)
    --- PASS: TestRunCommand_Archive/7 (1.62s)
PASS
ok  	github/czech-radio/openmedia/cmd	7.379s

## Command: extractArchive
### 1. extractArchive: help
Command input:
	go run main.go extractArchive -h -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/1
	openmedia extractArchive -h -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/1
#### Command output:
-h, -help
	display this help and exit

-sdir, -SourceDirectory=/mnt/remote/cro/export-avo/Rundowns
	Source directory of rundown files.

-sdirType, -SourceDirectoryType=MINIFIED.zip
	type of source directory where the rundowns resides

-odir, -OutputDirectory=/tmp/test/
	Destination directory or file

-ofname, -OutputFileName=
	Output file name.

-exsn, -ExtractorsName=production_all
	Name of extractor which specifies the parts of xml to be extracted

-fdf, -FilterDateFrom=
	Filter rundowns from date. Format of the date is given in form 'YYYY-mm-ddTHH:mm:ss' e.g. 2024, 2024-02-01 or 2024-02-01T10. The precission of date given is arbitrary.

-fdt, -FilterDateTo=
	Filter rundowns to date

-frn, -FilterRadioName=
	Filter radio names

-csvD, -CSVdelim=	
	csv column field delimiter
	[	 ;]

-frfn, -FilterFileName=
	Special filters filename. The filter filename specifies how the file is parsed and how it is used

-frsn, -FilterSheetName=data
	Special filters sheetname

-valfn, -ValidatorFileName=
	xlsx file containing validation receipe



### 2. extractArchive: extract all story parts from minified rundowns
Command input:
	go run main.go extractArchive -ofname=production -exsn=production_all -fdf=2020-03-04 -fdt=2020-03-05 -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/2
	openmedia extractArchive -ofname=production -exsn=production_all -fdf=2020-03-04 -fdt=2020-03-05 -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/2
#### Command output:
{"time":"2024-06-23T17:17:36.587836364+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.ParseConfigOptions","file":"extract_archive.go","line":79},"msg":"effective subcommand config","config":{"RadioNames":null,"DateRange":["2020-03-04T00:00:00.000000001Z","2020-03-05T00:00:00Z"],"IsoWeeks":null,"Months":null,"WeekDays":null,"Extractors":[{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":["C-index"],"PartPrefixCode":19,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["5081","1000","8"],"PartPrefixCode":1,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":0,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Hourly Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1000"],"PartPrefixCode":2,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":3,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Sub Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1004","1005","1002","321"],"PartPrefixCode":4,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":5,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Radio Story","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","12","1004","1005","1002","321","5079","16","5016","5","6","5070","5071","5072"],"PartPrefixCode":6,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":["RecordID"],"FieldsPath":"","FieldIDs":["5001","8","38","5082","421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":7,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Audioclip|Contact Item|Contact Bin","ObjectAttrsNames":["TemplateName","ObjectID"],"FieldsPath":"","FieldIDs":null,"PartPrefixCode":15,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Audioclip","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","38","5082"],"PartPrefixCode":11,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Contact Item|Contact Bin","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":13,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":17,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null}],"ComputeUniqueRows":false,"PrintHeader":false,"CSVdelim":"\t","SourceDirectory":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive","SourceDirectoryType":"MINIFIED.zip","WorkerType":1,"OutputDirectory":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/2","OutputFileName":"production","ExtractorsName":"production_all","ExtractorsCode":"production_all","FilterDateFrom":"2020-03-04T00:00:00+01:00","FilterDateTo":"2020-03-05T00:00:00+01:00","FilterRadioName":"","FilterRecords":false,"ValidatorFileName":""}}
{"time":"2024-06-23T17:17:36.588273933+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.PackageMap","file":"archive_package.go","line":217},"msg":"filenames in all packages","count":2,"matched":true}
{"time":"2024-06-23T17:17:36.588291832+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":127},"msg":"packages matched","count":1}
{"time":"2024-06-23T17:17:36.588305164+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":128},"msg":"files inside packages matched","count":2}
{"time":"2024-06-23T17:17:36.588417234+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":138},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip"}
{"time":"2024-06-23T17:17:36.588439173+02:00","level":"WARN","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":153},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip","file":"RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:36.893903845+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":163},"msg":"extracted lines","count":166}
{"time":"2024-06-23T17:17:36.893946209+02:00","level":"WARN","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":153},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip","file":"RD_05-09_ŠKs_Wfbvy_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:37.219189404+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":163},"msg":"extracted lines","count":147}
{"time":"2024-06-23T17:17:37.219341555+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":389},"msg":"rows count before deletion","parsed":313,"filtered":313}
{"time":"2024-06-23T17:17:37.219360238+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":402},"msg":"rows count after deletion","count_after":313}
{"time":"2024-06-23T17:17:37.224323072+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/2/production_production_all_base_wh.csv","bytesCount":1100}
{"time":"2024-06-23T17:17:37.224411976+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/2/production_production_all_base_wh.csv","bytesCount":155058}
{"time":"2024-06-23T17:17:37.224452687+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/2/production_production_all_base_woh.csv","bytesCount":468}
{"time":"2024-06-23T17:17:37.224520453+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/2/production_production_all_base_woh.csv","bytesCount":155058}
{"time":"2024-06-23T17:17:37.224533294+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).OutputValidatedDataset","file":"outputs.go","line":24},"msg":"validation_warning","msg":"validation receipe file not specified"}
{"time":"2024-06-23T17:17:37.224539702+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).OutputFilteredDataset","file":"outputs.go","line":46},"msg":"filter file not specified"}

### 3. extractArchive: extract all contacts from minified rundowns
Command input:
	go run main.go extractArchive -ofname=production -exsn=production_contacts -fdf=2020-03-04 -fdt=2020-03-05 -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/3
	openmedia extractArchive -ofname=production -exsn=production_contacts -fdf=2020-03-04 -fdt=2020-03-05 -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/3
#### Command output:
{"time":"2024-06-23T17:17:37.61714129+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.ParseConfigOptions","file":"extract_archive.go","line":79},"msg":"effective subcommand config","config":{"RadioNames":null,"DateRange":["2020-03-04T00:00:00.000000001Z","2020-03-05T00:00:00Z"],"IsoWeeks":null,"Months":null,"WeekDays":null,"Extractors":[{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":["C-index"],"PartPrefixCode":19,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["5081","1000","8"],"PartPrefixCode":1,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":0,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Hourly Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1000"],"PartPrefixCode":2,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":3,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Sub Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1004","1005","1002","321"],"PartPrefixCode":4,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":5,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Radio Story","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","12","1004","1005","1002","321","5079","16","5016","5","6","5070","5071","5072"],"PartPrefixCode":6,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":["RecordID"],"FieldsPath":"","FieldIDs":["5001","8","38","5082","421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":7,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Contact Item|Contact Bin","ObjectAttrsNames":["TemplateName","ObjectID"],"FieldsPath":"","FieldIDs":null,"PartPrefixCode":15,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Contact Item|Contact Bin","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":13,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":17,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null}],"ComputeUniqueRows":false,"PrintHeader":false,"CSVdelim":"\t","SourceDirectory":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive","SourceDirectoryType":"MINIFIED.zip","WorkerType":1,"OutputDirectory":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/3","OutputFileName":"production","ExtractorsName":"production_contacts","ExtractorsCode":"production_contacts","FilterDateFrom":"2020-03-04T00:00:00+01:00","FilterDateTo":"2020-03-05T00:00:00+01:00","FilterRadioName":"","FilterRecords":false,"ValidatorFileName":""}}
{"time":"2024-06-23T17:17:37.617554679+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.PackageMap","file":"archive_package.go","line":217},"msg":"filenames in all packages","count":2,"matched":true}
{"time":"2024-06-23T17:17:37.617572521+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":127},"msg":"packages matched","count":1}
{"time":"2024-06-23T17:17:37.617583194+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":128},"msg":"files inside packages matched","count":2}
{"time":"2024-06-23T17:17:37.61768033+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":138},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip"}
{"time":"2024-06-23T17:17:37.617701362+02:00","level":"WARN","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":153},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip","file":"RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:37.910629191+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":163},"msg":"extracted lines","count":166}
{"time":"2024-06-23T17:17:37.910671198+02:00","level":"WARN","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":153},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip","file":"RD_05-09_ŠKs_Wfbvy_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:38.182699629+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":163},"msg":"extracted lines","count":147}
{"time":"2024-06-23T17:17:38.182842768+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":389},"msg":"rows count before deletion","parsed":313,"filtered":313}
{"time":"2024-06-23T17:17:38.182859974+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":402},"msg":"rows count after deletion","count_after":313}
{"time":"2024-06-23T17:17:38.184146032+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":389},"msg":"rows count before deletion","parsed":313,"filtered":44}
{"time":"2024-06-23T17:17:38.184162272+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":402},"msg":"rows count after deletion","count_after":44}
{"time":"2024-06-23T17:17:38.184746497+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/3/production_production_contacts_base_wh.csv","bytesCount":1026}
{"time":"2024-06-23T17:17:38.184804156+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/3/production_production_contacts_base_wh.csv","bytesCount":29762}
{"time":"2024-06-23T17:17:38.184848374+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/3/production_production_contacts_base_woh.csv","bytesCount":434}
{"time":"2024-06-23T17:17:38.184888396+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/3/production_production_contacts_base_woh.csv","bytesCount":29762}
{"time":"2024-06-23T17:17:38.184903152+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).OutputValidatedDataset","file":"outputs.go","line":24},"msg":"validation_warning","msg":"validation receipe file not specified"}
{"time":"2024-06-23T17:17:38.184916775+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).OutputFilteredDataset","file":"outputs.go","line":46},"msg":"filter file not specified"}

### 4. extractArchive: extract all story parts from minified rundowns, extract only specified radios
Command input:
	go run main.go extractArchive -ofname=production -exsn=production_all -frn=Olomouc -fdf=2020-03-04 -fdt=2020-03-05 -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/4
	openmedia extractArchive -ofname=production -exsn=production_all -frn=Olomouc -fdf=2020-03-04 -fdt=2020-03-05 -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/4
#### Command output:
{"time":"2024-06-23T17:17:38.573483546+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.ParseConfigOptions","file":"extract_archive.go","line":79},"msg":"effective subcommand config","config":{"RadioNames":{"Olomouc":true},"DateRange":["2020-03-04T00:00:00.000000001Z","2020-03-05T00:00:00Z"],"IsoWeeks":null,"Months":null,"WeekDays":null,"Extractors":[{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":["C-index"],"PartPrefixCode":19,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["5081","1000","8"],"PartPrefixCode":1,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":0,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Hourly Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1000"],"PartPrefixCode":2,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":3,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Sub Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1004","1005","1002","321"],"PartPrefixCode":4,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":5,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Radio Story","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","12","1004","1005","1002","321","5079","16","5016","5","6","5070","5071","5072"],"PartPrefixCode":6,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":["RecordID"],"FieldsPath":"","FieldIDs":["5001","8","38","5082","421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":7,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Audioclip|Contact Item|Contact Bin","ObjectAttrsNames":["TemplateName","ObjectID"],"FieldsPath":"","FieldIDs":null,"PartPrefixCode":15,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Audioclip","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","38","5082"],"PartPrefixCode":11,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Contact Item|Contact Bin","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":13,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":17,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null}],"ComputeUniqueRows":false,"PrintHeader":false,"CSVdelim":"\t","SourceDirectory":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive","SourceDirectoryType":"MINIFIED.zip","WorkerType":1,"OutputDirectory":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/4","OutputFileName":"production","ExtractorsName":"production_all","ExtractorsCode":"production_all","FilterDateFrom":"2020-03-04T00:00:00+01:00","FilterDateTo":"2020-03-05T00:00:00+01:00","FilterRadioName":"Olomouc","FilterRecords":false,"ValidatorFileName":""}}
{"time":"2024-06-23T17:17:38.57389824+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.PackageMap","file":"archive_package.go","line":217},"msg":"filenames in all packages","count":0,"matched":true}
{"time":"2024-06-23T17:17:38.57391635+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":127},"msg":"packages matched","count":0}
{"time":"2024-06-23T17:17:38.573929295+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":128},"msg":"files inside packages matched","count":0}
{"time":"2024-06-23T17:17:38.574011474+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":138},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip"}
{"time":"2024-06-23T17:17:38.574076185+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":389},"msg":"rows count before deletion","parsed":0,"filtered":0}
{"time":"2024-06-23T17:17:38.574087931+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":402},"msg":"rows count after deletion","count_after":0}
{"time":"2024-06-23T17:17:38.574182194+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/4/production_production_all_base_wh.csv","bytesCount":1100}
{"time":"2024-06-23T17:17:38.574216298+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/4/production_production_all_base_wh.csv","bytesCount":0}
{"time":"2024-06-23T17:17:38.574255755+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/4/production_production_all_base_woh.csv","bytesCount":468}
{"time":"2024-06-23T17:17:38.574284689+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/4/production_production_all_base_woh.csv","bytesCount":0}
{"time":"2024-06-23T17:17:38.574299711+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).OutputValidatedDataset","file":"outputs.go","line":24},"msg":"validation_warning","msg":"validation receipe file not specified"}
{"time":"2024-06-23T17:17:38.574313693+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).OutputFilteredDataset","file":"outputs.go","line":46},"msg":"filter file not specified"}

### 5. extractArchive: extract all story parts from minified rundowns and validate
Command input:
	go run main.go extractArchive -ofname=production -exsn=production_all -fdf=2020-03-04 -fdt=2020-03-05 -valfn=../test/testdata/cmd/extractArchive/filters/validace_new_ammended.xlsx -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5
	openmedia extractArchive -ofname=production -exsn=production_all -fdf=2020-03-04 -fdt=2020-03-05 -valfn=../test/testdata/cmd/extractArchive/filters/validace_new_ammended.xlsx -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5
#### Command output:
{"time":"2024-06-23T17:17:38.959650344+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.ParseConfigOptions","file":"extract_archive.go","line":79},"msg":"effective subcommand config","config":{"RadioNames":null,"DateRange":["2020-03-04T00:00:00.000000001Z","2020-03-05T00:00:00Z"],"IsoWeeks":null,"Months":null,"WeekDays":null,"Extractors":[{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":["C-index"],"PartPrefixCode":19,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["5081","1000","8"],"PartPrefixCode":1,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":0,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Hourly Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1000"],"PartPrefixCode":2,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":3,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Sub Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1004","1005","1002","321"],"PartPrefixCode":4,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":5,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Radio Story","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","12","1004","1005","1002","321","5079","16","5016","5","6","5070","5071","5072"],"PartPrefixCode":6,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":["RecordID"],"FieldsPath":"","FieldIDs":["5001","8","38","5082","421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":7,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Audioclip|Contact Item|Contact Bin","ObjectAttrsNames":["TemplateName","ObjectID"],"FieldsPath":"","FieldIDs":null,"PartPrefixCode":15,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Audioclip","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","38","5082"],"PartPrefixCode":11,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Contact Item|Contact Bin","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":13,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":17,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null}],"ComputeUniqueRows":false,"PrintHeader":false,"CSVdelim":"\t","SourceDirectory":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive","SourceDirectoryType":"MINIFIED.zip","WorkerType":1,"OutputDirectory":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5","OutputFileName":"production","ExtractorsName":"production_all","ExtractorsCode":"production_all","FilterDateFrom":"2020-03-04T00:00:00+01:00","FilterDateTo":"2020-03-05T00:00:00+01:00","FilterRadioName":"","FilterRecords":false,"ValidatorFileName":"../test/testdata/cmd/extractArchive/filters/validace_new_ammended.xlsx"}}
{"time":"2024-06-23T17:17:38.960073899+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.PackageMap","file":"archive_package.go","line":217},"msg":"filenames in all packages","count":2,"matched":true}
{"time":"2024-06-23T17:17:38.960091818+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":127},"msg":"packages matched","count":1}
{"time":"2024-06-23T17:17:38.960101134+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":128},"msg":"files inside packages matched","count":2}
{"time":"2024-06-23T17:17:38.960201458+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":138},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip"}
{"time":"2024-06-23T17:17:38.960225984+02:00","level":"WARN","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":153},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip","file":"RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:39.301116636+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":163},"msg":"extracted lines","count":166}
{"time":"2024-06-23T17:17:39.301152594+02:00","level":"WARN","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":153},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip","file":"RD_05-09_ŠKs_Wfbvy_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:39.590908286+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":163},"msg":"extracted lines","count":147}
{"time":"2024-06-23T17:17:39.591066643+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":389},"msg":"rows count before deletion","parsed":313,"filtered":313}
{"time":"2024-06-23T17:17:39.591083091+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":402},"msg":"rows count after deletion","count_after":313}
{"time":"2024-06-23T17:17:39.595968067+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5/production_production_all_base_wh.csv","bytesCount":1100}
{"time":"2024-06-23T17:17:39.596071162+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5/production_production_all_base_wh.csv","bytesCount":155058}
{"time":"2024-06-23T17:17:39.596116835+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5/production_production_all_base_woh.csv","bytesCount":468}
{"time":"2024-06-23T17:17:39.596192358+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5/production_production_all_base_woh.csv","bytesCount":155058}
{"time":"2024-06-23T17:17:39.663139476+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5/production_production_all_base_validated_wh.csv","bytesCount":1100}
{"time":"2024-06-23T17:17:39.663259908+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5/production_production_all_base_validated_wh.csv","bytesCount":147123}
{"time":"2024-06-23T17:17:39.663311896+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5/production_production_all_base_validated_woh.csv","bytesCount":468}
{"time":"2024-06-23T17:17:39.663390521+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5/production_production_all_base_validated_woh.csv","bytesCount":147123}
{"time":"2024-06-23T17:17:39.663570426+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).ValidationLogWrite","file":"validate.go","line":332},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/5/production_base_validated_log.csv","bytesCount":4948}
{"time":"2024-06-23T17:17:39.663583956+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).OutputFilteredDataset","file":"outputs.go","line":46},"msg":"filter file not specified"}

### 6. extractArchive: extract all story parts from minified rundowns, validate and use filter oposition
Command input:
	go run main.go extractArchive -ofname=production -exsn=production_contacts -fdf=2020-03-04 -fdt=2020-03-05 -valfn=../test/testdata/cmd/extractArchive/filters/validace_new_ammended.xlsx -frfn=../test/testdata/cmd/extractArchive/filters/filtr_opozice_2024-04-01_2024-05-31_v2.xlsx -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6
	openmedia extractArchive -ofname=production -exsn=production_contacts -fdf=2020-03-04 -fdt=2020-03-05 -valfn=../test/testdata/cmd/extractArchive/filters/validace_new_ammended.xlsx -frfn=../test/testdata/cmd/extractArchive/filters/filtr_opozice_2024-04-01_2024-05-31_v2.xlsx -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6
#### Command output:
{"time":"2024-06-23T17:17:40.044542694+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.ParseConfigOptions","file":"extract_archive.go","line":79},"msg":"effective subcommand config","config":{"RadioNames":null,"DateRange":["2020-03-04T00:00:00.000000001Z","2020-03-05T00:00:00Z"],"IsoWeeks":null,"Months":null,"WeekDays":null,"Extractors":[{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":["C-index"],"PartPrefixCode":19,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["5081","1000","8"],"PartPrefixCode":1,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":0,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Hourly Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1000"],"PartPrefixCode":2,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":3,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Sub Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1004","1005","1002","321"],"PartPrefixCode":4,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":5,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Radio Story","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","12","1004","1005","1002","321","5079","16","5016","5","6","5070","5071","5072"],"PartPrefixCode":6,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":["RecordID"],"FieldsPath":"","FieldIDs":["5001","8","38","5082","421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":7,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Contact Item|Contact Bin","ObjectAttrsNames":["TemplateName","ObjectID"],"FieldsPath":"","FieldIDs":null,"PartPrefixCode":15,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Contact Item|Contact Bin","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":13,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":17,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null}],"ComputeUniqueRows":false,"PrintHeader":false,"CSVdelim":"\t","SourceDirectory":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive","SourceDirectoryType":"MINIFIED.zip","WorkerType":1,"OutputDirectory":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6","OutputFileName":"production","ExtractorsName":"production_contacts","ExtractorsCode":"production_contacts","FilterDateFrom":"2020-03-04T00:00:00+01:00","FilterDateTo":"2020-03-05T00:00:00+01:00","FilterRadioName":"","FilterRecords":false,"ValidatorFileName":"../test/testdata/cmd/extractArchive/filters/validace_new_ammended.xlsx"}}
{"time":"2024-06-23T17:17:40.044864355+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.PackageMap","file":"archive_package.go","line":217},"msg":"filenames in all packages","count":2,"matched":true}
{"time":"2024-06-23T17:17:40.044880069+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":127},"msg":"packages matched","count":1}
{"time":"2024-06-23T17:17:40.044892901+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":128},"msg":"files inside packages matched","count":2}
{"time":"2024-06-23T17:17:40.044973966+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":138},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip"}
{"time":"2024-06-23T17:17:40.044994026+02:00","level":"WARN","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":153},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip","file":"RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:40.335456313+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":163},"msg":"extracted lines","count":166}
{"time":"2024-06-23T17:17:40.335501877+02:00","level":"WARN","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":153},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip","file":"RD_05-09_ŠKs_Wfbvy_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:40.609713853+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":163},"msg":"extracted lines","count":147}
{"time":"2024-06-23T17:17:40.609853314+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":389},"msg":"rows count before deletion","parsed":313,"filtered":313}
{"time":"2024-06-23T17:17:40.60986968+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":402},"msg":"rows count after deletion","count_after":313}
{"time":"2024-06-23T17:17:40.611144488+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":389},"msg":"rows count before deletion","parsed":313,"filtered":44}
{"time":"2024-06-23T17:17:40.61116118+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":402},"msg":"rows count after deletion","count_after":44}
{"time":"2024-06-23T17:17:40.611809697+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_wh.csv","bytesCount":1026}
{"time":"2024-06-23T17:17:40.611847161+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_wh.csv","bytesCount":29762}
{"time":"2024-06-23T17:17:40.611883912+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_woh.csv","bytesCount":434}
{"time":"2024-06-23T17:17:40.611918564+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_woh.csv","bytesCount":29762}
{"time":"2024-06-23T17:17:40.677393268+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_validated_wh.csv","bytesCount":1026}
{"time":"2024-06-23T17:17:40.677473039+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_validated_wh.csv","bytesCount":24855}
{"time":"2024-06-23T17:17:40.677510661+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_validated_woh.csv","bytesCount":434}
{"time":"2024-06-23T17:17:40.677539098+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_validated_woh.csv","bytesCount":24855}
{"time":"2024-06-23T17:17:40.677669734+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).ValidationLogWrite","file":"validate.go","line":332},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_base_validated_log.csv","bytesCount":4256}
{"time":"2024-06-23T17:17:40.857739056+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_validated_filtered_wh.csv","bytesCount":1187}
{"time":"2024-06-23T17:17:40.8577971+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_validated_filtered_wh.csv","bytesCount":27275}
{"time":"2024-06-23T17:17:40.857916764+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_validated_filtered_woh.csv","bytesCount":492}
{"time":"2024-06-23T17:17:40.857959986+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/6/production_production_contacts_base_validated_filtered_woh.csv","bytesCount":27275}

### 7. extractArchive: extract all story parts from minified rundowns, validate and use filter eurovolby
Command input:
	go run main.go extractArchive -ofname=production -exsn=production_contacts -fdf=2020-03-04 -fdt=2020-03-05 -valfn=../test/testdata/cmd/extractArchive/filters/validace_new_ammended.xlsx -frfn=../test/testdata/cmd/extractArchive/filters/filtr_eurovolby_v1.xlsx -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7
	openmedia extractArchive -ofname=production -exsn=production_contacts -fdf=2020-03-04 -fdt=2020-03-05 -valfn=../test/testdata/cmd/extractArchive/filters/validace_new_ammended.xlsx -frfn=../test/testdata/cmd/extractArchive/filters/filtr_eurovolby_v1.xlsx -sdir=/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive -odir=/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7
#### Command output:
{"time":"2024-06-23T17:17:41.275206837+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/cmd.ParseConfigOptions","file":"extract_archive.go","line":79},"msg":"effective subcommand config","config":{"RadioNames":null,"DateRange":["2020-03-04T00:00:00.000000001Z","2020-03-05T00:00:00Z"],"IsoWeeks":null,"Months":null,"WeekDays":null,"Extractors":[{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":["C-index"],"PartPrefixCode":19,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["5081","1000","8"],"PartPrefixCode":1,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Radio Rundown/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":0,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Hourly Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1000"],"PartPrefixCode":2,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":3,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Sub Rundown","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","1004","1005","1002","321"],"PartPrefixCode":4,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":5,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/*Radio Story","ObjectAttrsNames":["ObjectID"],"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["8","12","1004","1005","1002","321","5079","16","5016","5","6","5070","5071","5072"],"PartPrefixCode":6,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/<OM_RECORD>","ObjectAttrsNames":["RecordID"],"FieldsPath":"","FieldIDs":["5001","8","38","5082","421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":7,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Contact Item|Contact Bin","ObjectAttrsNames":["TemplateName","ObjectID"],"FieldsPath":"","FieldIDs":null,"PartPrefixCode":15,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":1,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"/Contact Item|Contact Bin","ObjectAttrsNames":null,"FieldsPath":"/OM_HEADER/OM_FIELD","FieldIDs":["421","422","5015","424","423","5016","5088","5087","5068"],"PartPrefixCode":13,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":true,"FieldIDsMap":null},{"OrExt":null,"ObjectPath":"","ObjectAttrsNames":null,"FieldsPath":"","FieldIDs":null,"PartPrefixCode":17,"FieldsPrefix":"","KeepInputRow":false,"ResultNodeGoUpLevels":0,"KeepWhenZeroSubnodes":false,"FieldIDsMap":null}],"ComputeUniqueRows":false,"PrintHeader":false,"CSVdelim":"\t","SourceDirectory":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive","SourceDirectoryType":"MINIFIED.zip","WorkerType":1,"OutputDirectory":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7","OutputFileName":"production","ExtractorsName":"production_contacts","ExtractorsCode":"production_contacts","FilterDateFrom":"2020-03-04T00:00:00+01:00","FilterDateTo":"2020-03-05T00:00:00+01:00","FilterRadioName":"","FilterRecords":false,"ValidatorFileName":"../test/testdata/cmd/extractArchive/filters/validace_new_ammended.xlsx"}}
{"time":"2024-06-23T17:17:41.2756552+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.PackageMap","file":"archive_package.go","line":217},"msg":"filenames in all packages","count":2,"matched":true}
{"time":"2024-06-23T17:17:41.275673568+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":127},"msg":"packages matched","count":1}
{"time":"2024-06-23T17:17:41.275686853+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderMap","file":"archive_folder.go","line":128},"msg":"files inside packages matched","count":2}
{"time":"2024-06-23T17:17:41.275763737+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":138},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip"}
{"time":"2024-06-23T17:17:41.275784199+02:00","level":"WARN","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":153},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip","file":"RD_12-19_ŘRf_Tcunyso_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:41.571491216+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":163},"msg":"extracted lines","count":166}
{"time":"2024-06-23T17:17:41.571536867+02:00","level":"WARN","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":153},"msg":"proccessing package","package":"/tmp/openmedia3729712530/cmd/SRC/cmd/extractArchive/Rundowns/2020_W10_MINIFIED.zip","file":"RD_05-09_ŠKs_Wfbvy_Wednesday_W10_2020_03_04.xml"}
{"time":"2024-06-23T17:17:41.848634338+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*ArchiveFolder).FolderExtract","file":"archive_folder.go","line":163},"msg":"extracted lines","count":147}
{"time":"2024-06-23T17:17:41.848788025+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":389},"msg":"rows count before deletion","parsed":313,"filtered":313}
{"time":"2024-06-23T17:17:41.848804576+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":402},"msg":"rows count after deletion","count_after":313}
{"time":"2024-06-23T17:17:41.850119933+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":389},"msg":"rows count before deletion","parsed":313,"filtered":44}
{"time":"2024-06-23T17:17:41.850141245+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).DeleteNonMatchingRows","file":"filter.go","line":402},"msg":"rows count after deletion","count_after":44}
{"time":"2024-06-23T17:17:41.850823824+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_wh.csv","bytesCount":1026}
{"time":"2024-06-23T17:17:41.850872236+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_wh.csv","bytesCount":29762}
{"time":"2024-06-23T17:17:41.850908116+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_woh.csv","bytesCount":434}
{"time":"2024-06-23T17:17:41.850943213+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_woh.csv","bytesCount":29762}
{"time":"2024-06-23T17:17:41.90536035+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_validated_wh.csv","bytesCount":1026}
{"time":"2024-06-23T17:17:41.905570987+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_validated_wh.csv","bytesCount":24855}
{"time":"2024-06-23T17:17:41.905633188+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_validated_woh.csv","bytesCount":434}
{"time":"2024-06-23T17:17:41.905677273+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_validated_woh.csv","bytesCount":24855}
{"time":"2024-06-23T17:17:41.905971411+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).ValidationLogWrite","file":"validate.go","line":332},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_base_validated_log.csv","bytesCount":4256}
{"time":"2024-06-23T17:17:42.00356553+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_validated_filtered_wh.csv","bytesCount":1154}
{"time":"2024-06-23T17:17:42.003631338+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_validated_filtered_wh.csv","bytesCount":27011}
{"time":"2024-06-23T17:17:42.003677561+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVheaderWrite","file":"table_csv.go","line":188},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_validated_filtered_woh.csv","bytesCount":487}
{"time":"2024-06-23T17:17:42.00371547+02:00","level":"INFO","source":{"function":"github/czech-radio/openmedia/internal/extract.(*Extractor).CSVtableWrite","file":"table_csv.go","line":170},"msg":"written bytes to file","fileName":"/tmp/openmedia3729712530/cmd/DST/cmd/extractArchive/7/production_production_contacts_base_validated_filtered_woh.csv","bytesCount":27011}

### Run summary
--- PASS: TestRunCommand_ExtractArchive (6.23s)
    --- PASS: TestRunCommand_ExtractArchive/1 (0.38s)
    --- PASS: TestRunCommand_ExtractArchive/2 (1.07s)
    --- PASS: TestRunCommand_ExtractArchive/3 (0.96s)
    --- PASS: TestRunCommand_ExtractArchive/4 (0.39s)
    --- PASS: TestRunCommand_ExtractArchive/5 (1.09s)
    --- PASS: TestRunCommand_ExtractArchive/6 (1.19s)
    --- PASS: TestRunCommand_ExtractArchive/7 (1.15s)
PASS
ok  	github/czech-radio/openmedia/cmd	6.233s
